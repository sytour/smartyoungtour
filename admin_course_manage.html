<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>코스 관리</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #fdfcf9;
      padding: 40px;
      line-height: 1.6;
    }
    h2 {
      text-align: center;
      margin-bottom: 30px;
    }
    .form-container, .list-container {
      background: white;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.08);
      max-width: 800px;
      margin: 0 auto 30px auto;
    }
    input {
      width: 45%;
      padding: 10px;
      margin: 8px;
      border: 1px solid #ccc;
      border-radius: 6px;
    }
    button {
      padding: 10px 20px;
      background-color: #ff944d;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      margin: 8px;
    }
    button:hover {
      background-color: #e67e22;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
    }
    th, td {
      border: 1px solid #ccc;
      padding: 10px;
      text-align: center;
    }
    th {
      background-color: #f4f4f4;
    }
  </style>
</head>

<body>

<h2>코스 관리</h2>

<div class="form-container">
  <input type="text" id="country" placeholder="국가명 (예: 라오스)">
  <input type="text" id="course" placeholder="코스명 (예: 방비엥 일반)">
  <button onclick="addCourse()">추가</button>
</div>

<div class="list-container">
  <table id="courseTable">
    <thead>
      <tr>
        <th>국가명</th>
        <th>코스명</th>
        <th>수정</th>
        <th>삭제</th>
      </tr>
    </thead>
    <tbody>
      <!-- 등록된 코스 리스트 -->
    </tbody>
  </table>
</div>

<script>
  let defaultCourses = [
    { country: "라오스", course: "방비엥 일반" },
    { country: "라오스", course: "루앙프라방 일반" },
    { country: "라오스", course: "비엔티안 골프" },
    { country: "라오스", course: "비엔티안 골프 및 방비엥(1일) 일반" },
    { country: "베트남", course: "하노이 일반" },
    { country: "베트남", course: "다낭 일반" },
    { country: "베트남", course: "푸꾸옥 일반" },
    { country: "베트남", course: "나트랑 일반" }
  ];

  function loadCourses() {
    const saved = localStorage.getItem('course_list');
    return saved ? JSON.parse(saved) : defaultCourses;
  }

  function saveCourses() {
    localStorage.setItem('course_list', JSON.stringify(courseList));
  }

  let courseList = loadCourses();

  function renderTable() {
    const tableBody = document.getElementById('courseTable').querySelector('tbody');
    tableBody.innerHTML = "";

    courseList.forEach((item, index) => {
      const row = `
        <tr>
          <td>${item.country}</td>
          <td>${item.course}</td>
          <td><button onclick="editCourse(${index})">수정</button></td>
          <td><button onclick="deleteCourse(${index})">삭제</button></td>
        </tr>
      `;
      tableBody.innerHTML += row;
    });
  }

  function addCourse() {
    const country = document.getElementById('country').value.trim();
    const course = document.getElementById('course').value.trim();

    if (!country || !course) {
      alert('국가명과 코스명을 모두 입력하세요.');
      return;
    }

    courseList.push({ country, course });
    saveCourses();
    renderTable();
    document.getElementById('country').value = '';
    document.getElementById('course').value = '';
  }

  function editCourse(index) {
    const newCountry = prompt('새 국가명을 입력하세요', courseList[index].country);
    const newCourse = prompt('새 코스명을 입력하세요', courseList[index].course);

    if (newCountry && newCourse) {
      courseList[index].country = newCountry;
      courseList[index].course = newCourse;
      saveCourses();
      renderTable();
    }
  }

  function deleteCourse(index) {
    if (confirm('정말 삭제하시겠습니까?')) {
      courseList.splice(index, 1);
      saveCourses();
      renderTable();
    }
  }

  window.onload = renderTable;
</script>

</body>
</html>
